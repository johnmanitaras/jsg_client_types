/* Import custom app-specific variables first - must be at top */
@import './styles/custom-variables.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Colors - Using wrapper variables with fallbacks for standalone mode */
  --color-primary: var(--color-primary-600, #2563eb);
  --color-background: var(--color-background, #f9fafb);
  --color-success: var(--color-success-600, #059669); /* Emerald 600 per style guide */
  --color-warning: var(--color-warning-400, #fbbf24); /* Amber 400 per style guide */
  --color-error: var(--color-error-600, #EF4444); /* Red 500 per style guide */
  --color-info: var(--color-info-500, #3B82F6); /* Brand primary per style guide */
  --color-text: var(--color-text, #111827);
  --color-text-secondary: var(--color-text-secondary, #6b7280);
  --color-border: var(--color-border, #e5e7eb);
  --color-divider: var(--color-border-secondary, #f3f4f6);
  --color-hover: var(--color-primary-700, #1D4ED8);
  --color-active: var(--color-primary-800, #1E3A8A);
  --color-disabled: var(--color-text-tertiary, #9ca3af);

  /* Typography - Using wrapper variables with fallbacks */
  --typography-fontFamily: var(--font-family-base, 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif);
  --typography-headingFontFamily: var(--font-family-heading, 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif);
  --typography-baseSize: var(--text-base, 1rem);
  --typography-lineHeight: var(--leading-normal, 1.5);
  --typography-fontWeightLight: var(--font-weight-light, 300);
  --typography-fontWeightRegular: var(--font-weight-normal, 400);
  --typography-fontWeightMedium: var(--font-weight-medium, 500);
  --typography-fontWeightBold: var(--font-weight-bold, 700);

  /* Spacing - Using wrapper variables with fallbacks */
  --spacing-base: var(--spacing-1, 0.25rem);
  --spacing-xs: var(--spacing-2, 0.5rem);
  --spacing-sm: var(--spacing-3, 0.75rem);
  --spacing-md: var(--spacing-4, 1rem);
  --spacing-lg: var(--spacing-6, 1.5rem);
  --spacing-xl: var(--spacing-8, 2rem);

  /* Border Radius - Using wrapper variables with fallbacks */
  --radius-none: var(--radius-none, 0);
  --radius-sm: var(--radius-sm, 0.25rem);
  --radius-md: var(--radius-md, 0.375rem);
  --radius-lg: var(--radius-lg, 0.5rem);
  --radius-full: var(--radius-full, 9999px);

  /* Shadows - Using wrapper variables with fallbacks */
  --shadow-none: var(--shadow-none, none);
  --shadow-sm: var(--shadow-sm, 0 1px 2px 0 rgba(0, 0, 0, 0.05));
  --shadow-md: var(--shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06));
  --shadow-lg: var(--shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05));
  --shadow-xl: var(--shadow-xl, 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04));

  /* Inputs - Using wrapper variables with fallbacks */
  --input-height: var(--height-input, 2.5rem);
  --input-padding: 0.5rem 1rem; /* Keep current values as wrapper differs */
  --input-fontSize: var(--text-sm, 0.875rem);
  --input-borderWidth: 1px;
  --input-borderColor: var(--input-borderColor, #d1d5db);
  --input-borderRadius: var(--radius-input, 0.5rem);
  --input-background: var(--input-background, #ffffff);
  --input-placeholderColor: var(--input-placeholderColor, #9ca3af);
  --input-disabledBackground: var(--input-disabledBackground, #f3f4f6);
  --input-disabledColor: var(--input-disabledColor, #6b7280);

  /* Focus - Using wrapper variables with fallbacks */
  --focus-enabled: true; /* Keep for compatibility */
  --focus-borderWidth: var(--focus-ringWidth, 2px);
  --focus-borderColor: var(--focus-borderColor, #3B82F6); /* Brand primary */
  --focus-shadowEnabled: true; /* Keep for compatibility */
  --focus-shadowColor: var(--focus-shadowColor, #3B82F6); /* Brand primary */
  --focus-shadowOpacity: 0.25; /* Keep current value vs wrapper's 0.5 */
  --focus-shadowSize: 4px; /* Keep current implementation */
  --focus-outlineWidth: var(--focus-ringWidth, 2px);
  --focus-outlineOffset: var(--focus-ringOffset, 2px);

  /* Buttons - Using wrapper variables with fallbacks */
  /* Button minimum width removed - template should not impose constraints */
  --button-height: var(--height-button, 3.25rem); /* 52px standard from wrapper */
  --button-padding: 0.5rem 1rem; /* Keep current values as wrapper differs */
  --button-borderRadius: var(--radius-button, 0.5rem);
  --button-fontSize: var(--text-sm, 0.875rem);
  --button-fontWeight: var(--font-weight-medium, 500);
  --button-transition: var(--transition-fast, all 150ms cubic-bezier(0, 0, 0.2, 1));

  /* Animation - Using wrapper variables with fallbacks */
  --animation-duration: var(--duration-fast, 150ms);
  --animation-timing: var(--ease-out, cubic-bezier(0, 0, 0.2, 1));
}

/* Base styles */
@layer base {
  body {
    @apply antialiased;
    font-family: var(--jetsetgo-template-font-typography-fontFamily-custom);
    font-size: var(--text-base);
    line-height: var(--typography-lineHeight);
    color: var(--color-text);
    background-color: var(--color-background);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--jetsetgo-template-typography-headingFontFamily-custom);
  }
}

/* Component styles */
@layer components {
  .container {
    @apply mx-auto px-6 max-w-7xl;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center;
    /* min-width removed - let child apps decide */
    height: var(--height-button);
    padding: var(--jetsetgo-template-button-padding);
    border-radius: var(--radius-button, 0.5rem);
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    color: white;
    background-color: var(--color-primary-600, #2563eb);
    transition: var(--jetsetgo-template-button-transition);
  }

  .btn-primary:hover {
    background-color: var(--color-primary-700, #1d4ed8);
  }

  .btn-primary:active {
    background-color: var(--color-primary-800, #1e40af);
  }

  .btn-primary:disabled {
    background-color: var(--color-gray-400);
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center;
    /* min-width removed - let child apps decide */
    height: var(--height-button);
    padding: var(--jetsetgo-template-button-padding);
    border-radius: var(--radius-button, 0.5rem);
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text);
    border: 1px solid var(--color-border, #e5e7eb);
    background-color: white;
    transition: var(--jetsetgo-template-button-transition);
  }

  .btn-secondary:hover {
    background-color: var(--color-background);
  }

  .input {
    @apply w-full;
    height: var(--height-input);
    padding: var(--jetsetgo-template-input-padding);
    font-size: var(--text-sm);
    border: var(--border-1) solid var(--input-borderColor, #d1d5db);
    border-radius: var(--radius-input, 0.5rem);
    background-color: var(--input-background);
    transition: var(--duration-fast) var(--ease-out);
  }

  .input::placeholder {
    color: var(--input-placeholderColor);
  }

  .input:disabled {
    background-color: var(--input-disabledBackground);
    color: var(--input-disabledColor);
  }

  .input:focus {
    outline: none;
    border: var(--focus-ringWidth, 2px) solid var(--focus-borderColor, #3B82F6);
    box-shadow: 0 0 0 var(--border-4) color-mix(in srgb, var(--focus-shadowColor) var(--opacity-25), transparent);
  }

  .select {
    @apply appearance-none w-full;
    height: var(--height-input);
    padding: var(--jetsetgo-template-input-padding);
    font-size: var(--text-sm);
    border: var(--border-1) solid var(--input-borderColor, #d1d5db);
    border-radius: var(--radius-input, 0.5rem);
    background-color: var(--input-background);
    transition: var(--duration-fast) var(--ease-out);
  }

  .select:focus {
    outline: none;
    border: var(--focus-ringWidth, 2px) solid var(--focus-borderColor, #3B82F6);
    box-shadow: 0 0 0 var(--border-4) color-mix(in srgb, var(--focus-shadowColor) var(--opacity-25), transparent);
  }

  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 text-xs font-medium;
    border-radius: var(--radius-badge, 9999px);
  }

  .badge-success {
    background-color: color-mix(in srgb, var(--color-success-600) 15%, white);
    color: var(--color-success-600);
  }

  .badge-warning {
    background-color: color-mix(in srgb, var(--color-warning-400) 15%, white);
    color: var(--color-warning-400);
  }

  .badge-error {
    background-color: color-mix(in srgb, var(--color-error-500) 15%, white);
    color: var(--color-error-500);
  }

  .badge-info {
    background-color: color-mix(in srgb, var(--color-info-500) 15%, white);
    color: var(--color-info-500);
  }

  .card {
    @apply bg-white;
    border-radius: var(--radius-card, 0.5rem);
    border: 1px solid var(--color-border, #e5e7eb);
    box-shadow: var(--shadow-card, var(--shadow-sm));
  }

  .card-header {
    @apply px-6 py-4;
    border-bottom: 1px solid var(--color-border, #e5e7eb);
  }

  .card-body {
    @apply px-6 py-4;
  }
}

/* Utility classes */
@layer utilities {
  .text-theme-primary {
    color: var(--color-primary-600);
  }

  .bg-theme-primary {
    background-color: var(--color-primary-600);
  }

  .border-theme-primary {
    border-color: var(--color-primary-600);
  }

  .hover\:text-theme-primary:hover {
    color: var(--color-primary-600);
  }

  .hover\:bg-theme-primary:hover {
    background-color: var(--color-primary-600);
  }

  .hover\:border-theme-primary:hover {
    border-color: var(--color-primary-600);
  }
}

/* 
 * CSS Variable Loading Order:
 * 1. Wrapper variables (loaded by parent app in embedded mode) 
 * 2. Custom app variables (imported at top)
 * 3. App-specific variables (defined in :root above)
 */